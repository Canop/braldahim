<ul class="box_contenu1 textalic">
	<ul class="titre textalic textsizea">
	Scripts Publics pour développeurs
	</ul>
	<br>
	Les données publiques et les Scripts Publics permettent à tout développeur de pouvoir
	construire une interface externe.<br>
	
	<br><br>
	
	<table width="100%">
		<tr valign="top">
			<td  width="50%">
				<ul class="titre textalic textsizeb">
				Données Publiques
				</ul>
				<br>
				<ul style="text-align:left">
					<li>
					Fichiers CSV disponibles à l'adresse : <a href='http://public.braldahim.com'>http://public.braldahim.com</a>
					</li>
					<li>
					Les fichiers sont encodés en UTF8
					</li>
				</ul>
				<br><br>
			
			</td>
			<td style="border-left: 1px solid #791E1E; align:left" width="50%">
				<ul class="titre textalic textsizeb">
				Scripts Publics
				</ul>
				<br>
				<ul style="text-align:left">
					<li>
					Les Scripts Publics renvoient les données associées à un Hobbit.
					</li>
					<li>
					Le nombre d'appels autorisés aux Scripts Publics est limité. 
					</li>
					<li>
					 XXX = le NUMERO d'un Hobbit
					</li>
					<li>
					 YYY = le mot de passe restreint correspondant. 
					</li>
					<li>
					Le mot de passe restreint peut-être obtenu ici : <a href='http://sp.braldahim.com/md5/'>http://sp.braldahim.com/md5/</a>. 
					</li>
				</ul>
				<br>
				
				<br>
			</td>
		</tr>
	</table>
</ul>

<br>

<ul class="box_contenu1 textalic">
	<ul class="titre textalic textsizeb">
	Détails des Scripts Publics
	</ul>
	<br>
	
	Le nombre d'appels autorisés aux Scripts Publics est limité par <u>jour et par catégorie</u>.<br>
	<br>
	<table style="width:90%" class="table_liste">
		
		<thead class="table_liste">
			<th colspan="2">Catégorie Scripts Dynamiques : 24 appels par jour</th>
		</thead>
		
		<tr valign="top">
			<td width="20%">
				Vue
			</td>
			<td width="80%" style="text-align:left">
			Version : 1<br>
			URL : http://sp.braldahim.com/vue/?idHobbit=XXX&MdpRestreint=YYYY<br>
			Détails : <br>
			</td>
		</tr>
		<tr valign="top">
			<td  width="20%">
				<br>Profil
			</td>
			<td  width="80%">
			
			</td>
		</tr>
		<tr valign="top">
			<td  width="20%">
				<br>Bonus / Malus
			</td>
			<td  width="80%">
			
			</td>
		</tr>
		<tr valign="top">
			<td  width="20%">
				<br>Événements
			</td>
			<td  width="80%">
				<br><br><br>
			</td>
		</tr>
		
		<thead class="table_liste">
			<th colspan="2">Catégorie Scripts Statiques : 10 appels par jour</th>
		</thead>
		<tr valign="top">
			<td  width="20%">
				<br>Caractéristiques
			</td>
			<td  width="80%">
			
			</td>
		</tr>
		<tr valign="top">
			<td  width="20%">
				<br>Compétences
			</td>
			<td  width="80%">
			
			</td>
		</tr>
		<tr valign="top">
			<td  width="20%">
				<br>Contenu du Laban
			</td>
			<td  width="80%">
			
			</td>
		</tr>
		<tr valign="top">
			<td  width="20%">
				<br>Contenu de la charrette
			</td>
			<td  width="80%">
			
			</td>
		</tr>
		<tr valign="top">
			<td  width="20%">
				<br>Contenu du coffre
			</td>
			<td  width="80%">
			
			</td>
		</tr>
		<tr valign="top">
			<td  width="20%">
				<br>Liste des échoppes
			</td>
			<td  width="80%">
			
			</td>
		</tr>
		<tr valign="top">
			<td  width="20%">
				<br>Liste des champs
			</td>
			<td  width="80%">
			<br><br><br>
			</td>
		</tr>
		
		<thead class="table_liste">
			<th colspan="2">Catégorie Scripts Appels : 6 appels par jour</th>
		</thead>
		<tr valign="top">
			<td  width="20%">
				<br>Appels
			</td>
			<td  width="80%">
			
			</td>
		</tr>
	</table>
	<br><br>
	
	<table style="width:90%" class="table_liste">
		
		<thead class="table_liste">
			<th colspan="2">Code d'erreurs</th>
		</thead>
		<tr>
			<td>
			ERREUR-01. Erreur Technique, l'équipe est informée
			</td>
		</tr>
		<tr>
			<td>
			ERREUR-02. Paramètres incorrects
			</td>
		</tr>
		<tr>
			<td>
			ERREUR-03. Hobbit inconnu
			</td>
		</tr>
		<tr>
			<td>
			ERREUR-04. Mot de passe invalide
			</td>
		</tr>
		<tr>
			<td>
			ERREUR-05. Hobbit désactivé ou pnj
			</td>
		</tr>
		<tr>
			<td>
			ERREUR-06. Service temporairement désactivé
			</td>
		</tr>
		<tr>
			<td>
			ERREUR-07. Service inconnu
			</td>
		</tr>
		<tr>
			<td>
			ERREUR-08. Version incorrecte
			</td>
		</tr>
	</table>
	<br>
</ul>

<br>

<ul class="box_contenu1 textalia">
	<ul class="titre textalic textsizeb">
	Aide
	</ul>
		<br>
	<ul class="titre textalic textsized">
		Débuter
	</ul>
	<ul class="textalic">
 	Débuter en php : <a href='http://www.phpdebutant.org/'>http://www.phpdebutant.org/</a>, <a href='http://php.developpez.com/cours/'>http://php.developpez.com/cours/</a><br>
 	Pour les plus aguérris : <a href='http://www.z-f.fr/page/comment_debuter'>http://www.z-f.fr/page/comment_debuter</a>, <a href='http://g-rossolini.developpez.com/tutoriels/php/zend-framework/debuter/'>Article Zend Framework</a>
 	</ul>
 	
 	<br><br>
 	
 	<ul class="titre textalic textsized">
		Premier Exemple
	</ul>
	
	<pre style="background-color:#CCCC99">
			
			/* lecture du fichier et stockage dans la chaîne de caractères "$buffer" */
			$fichier = "http://public.braldahim.com/hobbits.csv";
			$buffer = "";
			$fd = @fopen($fichier,"r");
			if ($fd) {
				while (!@feof($fd)) { $buffer .= @fgets($fd, 4096); }
				@fclose ($fd);
			
				/* premier découpage en tranches : les lignes sont séparées */
				$lignes = explode("\n", $buffer );
					
				/* chaque ligne est à nouveau découpée en tranches, par champs, et affichée */
				$i=0;
				while ($lignes[$i]) {
					$data = explode(";", $lignes[$i]);
					echo $data[0]." - ".$data[1]." - ". $data[2]." - ". $data[3]." - ". $data[4]." - ". $data[5]." - ". $data[6]."&lt;br&gt;";
					$i++;
				}
			} else { 
				echo "Le fichier "".$fichier."" est inaccessible : "; 
			}
		</pre>

			<ul class="titre textalic textsized">
				Exemple optimisé
			</ul>
			
			Remplacer :
			<pre style="background-color:#CCCC99">
			while (!@feof($fd)){ $buffer .= @fgets($fd, 4096); }
			@fclose ($fd);
			$lignes = explode("\n", $buffer );
			</pre>
			par :
			<pre style="background-color:#CCCC99">
			while (!@feof($fd)){ $lignes[] = @fgets($fd, 4096); }
			@fclose ($fd);
			</pre>
			<br>
			Remplacer :
			<pre style="background-color:#CCCC99">
			echo $data[0]." - ".$data[1]." - ". $data[2]." - ". $data[3]." - ". $data[4]." - ". $data[5]." - ". $data[6]."&lt;br&gt;";
			</pre>
			par :
			<pre style="background-color:#CCCC99">
			echo implode(" - ", $data );
			</pre>

			</pre>
	</ul>
	<br>
</ul>

<br>

<ul class="box_contenu1 textalic">
	<p align="center"><a href="http://www.jeuxweb.org" target="_blank" class="AllLinks">Braldahim est un jeu géré par l'association sans but lucratif JeuxWeb.org </a><br>
		<a href="http://www.jeuxweb.org" target="_blank"><img src="http://www.mountyhall.com/images/Banner/banner_jw.gif" alt="JeuxWeb" border="0" height="60" width="468"></a>
	</p>
</ul>